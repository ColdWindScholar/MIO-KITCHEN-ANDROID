<?xml version="1.0" encoding="UTF-8" ?>
<resource dir="file:///android_asset/script" />
<group title="Module Functions">
    <page reload="true" config-sh="script/tool.sh module" title="Module" desc="Installable MPK modules"/>
</group>

<group title="Extraction Menu">
    <action>
        <title>Extract ROM</title>
        <set>script/tool.sh UN</set>
    </action>
    <action>
        <title>Unpack BR</title>
        <set>script/tool.sh zdyfj</set>
        <param name="cleanup" label="Delete source files" type="checkbox" />
        <param name="zdy" title="Please select files (supports multiple selections):" options-sh="script/tool.sh new.dat.br" desc="Automatic recognition" required="true" multiple="true"/>
    </action>

    <action>
        <title>Unpack DAT</title>
        <set>script/tool.sh zdyfj</set>
        <param name="cleanup" label="Delete source files" type="checkbox" />
        <param name="zdy" title="Please select DAT files (supports multiple selections):" options-sh="script/tool.sh new.dat" desc="Recognize files in MIO project path" required="true" multiple="true"/>
    </action>
    
    <action>
        <title>Extract Super/Payload</title>
        <set>script/tool.sh tqdgjx</set>
        <param name="qptq" label="Extract entire disk" type="switch" />
        <param name="del" label="Delete source files" type="switch" />
        <param name="tqjx" title="Please select images to extract" options-sh="script/tool.sh dg" desc="Automatic" required="true" multiple="true"/>
        <param name="jxs" title="Please select partitions to extract" options-sh="script/tool.sh readdt" desc="Automatic" required="true" multiple="true"/>
    </action>
    
    <action>
        <title>Unpack IMG</title>
        <set>script/tool.sh zdyfj</set>
        <param name="cleanup" label="Delete source files" type="checkbox" />
        <param name="IMG" title="Please select IMG files (supports multiple selections):" options-sh="script/tool.sh img" desc="Recognize files in MIO project path, tool automatically identifies IMG format for extraction" required="true" multiple="true"/>
    </action>

</group>

<group title="Packaging Menu">

    <action>
        <title>Package Image</title>
        <set>script/tool.sh pack</set>
        <param name="UIMGS" options-sh="script/tool.sh lsmdir" desc="Supports multiple packages, tool automatically identifies image format for packaging" required="true" multiple="true"/>
        <param name="dbfs" label="Packaging Method" desc="Note: Effective only for packaging ext4" >
             <option value="mkeimg">mke2fs+e2fsdroid</option>
             <option value="make_ext4">make_ext4fs</option>
        </param>
        <param name="jxys" label="Image Compression" type="switch" />
        <param name="del" label="Delete source files" type="switch" />
        <param name="zhua" label="Erofs-Ext Conversion Packaging" type="switch" />
        <param name="fixb" label="Fix build" desc="Note: Effective only for packaging boot" type="switch" />
        <param name="Reading" label="Partition Read/Write" desc="Note: Effective only for packaging ext4" >
             <option value="ro">Read-only</option>
             <option value="rw">Read/Write</option>
        </param>
        <param name="psize" label="Packaging Size" desc="Note: Effective only for packaging ext4" >
             <option value="auto">Auto calculate size</option>
             <option value="orig">Original IMG size</option>
        </param>
        <param name="img_type" label="Packaging Format" desc="Note: Effective only for packaging ext4, erofs" >
             <option value="raw">raw</option>
             <option value="sparse">sparse</option>
        </param>
        <param name="fze" label="Erofs Compression Level" value="8" desc="Note: Effective only for packaging erofs" />
        <param name="type" label="Erofs Compression Method" desc="Note: Effective only for packaging erofs" >
             <option value="lz4hc">lz4hc</option>
             <option value="lz4">lz4</option>
             <option value="lzma">lzma</option>
            <option value="deflate">deflate</option>
        </param>
       
    </action>
    <action>
        <title>Package super.img</title>
        <set>script/tool.sh packsuper</set>
        <param name="type" label="Packaging Type" >
             <option value="A">a_only</option>
             <option value="AB">ab</option>
             <option value="VAB">virtual_ab</option>
        </param>
        <param name="from" label="Packaging Format" >
             <option value="sparse">sparse</option>
             <option value="raw">raw</option>
        </param>
        <param name="super_size" required="true" value="12884901888" label="Total Size of super.img" desc="Default 12884901888 bytes" />
        <param name="super_group" required="true" value="main" label="Dynamic Partition Cluster Name" desc="Appropriate size" />
        <param name="simg" title="Please select IMG files to package:" options-sh="script/tool.sh img" desc="Do not select unsupported images" required="true" multiple="true"/>
    </action>
</group>

<group title="Format Conversion">
    <action>
        <title>IMG Conversion</title>
        <set>script/tool.sh gszh</set>
        <param name="del" label="Delete source files" type="switch" />
        <param name="gs" label="Conversion Format" desc="Erofs images do not support conversion" >
             <option value="dat">dat</option>
             <option value="br">br</option>
             <option value="sparse">sparse</option>
             <option value="raw">raw</option>
             <option value="zstd">zstd</option>
        </param>
         <param name="brlv" required="true" value="3" label="BR Compression Level" type="seekbar" min="0" max="9" desc="Note: Larger numbers result in slower compression, choose accordingly!"/>
         <param name="zstdle" required="true" value="3" label="ZSTD Compression Level" type="seekbar" min="0" max="9" desc="Note: Larger numbers result in slower compression, choose accordingly!"/>
        <param name="IMG" title="Please select IMG files (supports multiple selections):" options-sh="script/tool.sh img" desc="Recognize files in MIO project path" required="true" multiple="true"/>
    </action>
</group>